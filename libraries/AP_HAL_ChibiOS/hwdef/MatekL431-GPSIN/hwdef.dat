include ../MatekL431/hwdef.inc

define CAN_APP_NODE_NAME "org.ardupilot.MatekL431-GPSIN"

# disable USART1
undef PB6
undef PB7

# no ADC pins
define HAL_USE_ADC FALSE

# disable unnecessary threads
define HAL_NO_MONITOR_THREAD
define HAL_NO_RCIN_THREAD
define HAL_NO_RCOUT_THREAD
define HAL_NO_TIMER_THREAD

# maintain GPS port number compatibility with MatekL431-Periph
SERIAL_ORDER EMPTY USART2 USART3

define HAL_PERIPH_ENABLE_GPS_FROM_GNSS_FIX2 1
define HAL_EXTERNAL_AHRS_ENABLED 1
define AP_EXTERNAL_AHRS_BACKEND_DEFAULT_ENABLED 0
define AP_EXTERNAL_AHRS_DRONECAN_SENSOR_INJECTION_ENABLED 1

define AP_BOOTLOADER_FLASHING_ENABLED 0
